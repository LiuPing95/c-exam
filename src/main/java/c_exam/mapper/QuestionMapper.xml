<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 命名空间是映射接口的全类名 -->
<mapper namespace="c_exam.mapper.QuestionMapper">

	<insert id="addQuestion">
		insert into questionInfo (
			id, content, forComment, questionType, itemA, itemB, itemC, itemD, answer, createTime
		)
		values (
			seq_for_questionInfo.nextval,
			#{obj.content},
			#{obj.forComment},
			#{obj.questionType},
			#{obj.itemA},
			#{obj.itemB},
			#{obj.itemC},
			#{obj.itemD},
			#{obj.answer},
			sysdate
		)
	</insert>
	
	<select id="getQuestionInfo" resultType="QuestionInfo">
		select * from questionInfo where id = #{id}
	</select>
	
	<select id="getQuestionIds">
		select id from questionInfo where questionType = #{type}
	</select>
	
	<select id="getQuestionByIds" resultType="QuestionInfo">
		select * from questionInfo where id in
		<foreach collection="ids" item="id" separator="," open="(" close=")">
			#{id}
		</foreach>
	</select>
	
	<select id="getQuestionByPage" resultType="QuestionInfo">
		select * from(
			select c.*,rownum rn 
			from (select * from questionInfo) c
			where rownum > #{start}
		)
		where #{end} >= rn
	</select>
	
	<select id="getTotal" resultType="int">
		select count(id) from questionInfo
		<if test="type != null">
			where questionType = #{type}
		</if>
	</select>
</mapper>